Forestry Department.
Food and Agriculture Organization of the United Nations.
COUNTRY MAPS FOR THE FORESTRY DEPARTMENT.
Forest Resources Assessment Programme.
Working Paper 6 Rome 1999.
The Forest Resources Assessment Programme.
Forests are crucial for the well-being of humanity. They provide foundations for life on earth through ecological functions, by regulating the climate and water resources, and by serving as habitats for plants and animals. Forests also furnish a wide range of essential goods such as wood, food, fodder and medicines, in addition to opportunities for recreation, spiritual renewal and other services. Today, forests are under pressure from expanding human populations, which frequently leads to the conversion or degradation of forests into unsustainable forms of land use. When forests are lost or severely degraded, their capacity to function as regulators of the environment is also lost, increasing flood and erosion hazards, reducing soil fertility, and contributing to the loss of plant and animal life. As a result, the sustainable provision of goods and services from forests is jeopardized. FAO, at the request of the member nations and the world community, regularly monitors the world's forests through the Forest Resources Assessment Programme. The next report, the Global Forest Resources Assessment 2000 (FRA 2000), will review the forest situation by the end of the millennium. FRA 2000 will include country-level information based on existing forest inventory data, regional investigations of land-cover change processes, and a number of global studies focusing on the interaction between people and forests. The FRA 2000 report will be made public and distributed on the world wide web in the year 2000. The Forest Resources Assessment Programme is organized under the Forest Resources Division (FOR) at FAO headquarters in Rome. Contact persons are: Robert Davis Peter Holmgren FRA Programme Coordinator FRA Project Director robert.davis@fao.org.
peter.holmgren@fao.org.
or use the e-mail address: fra@fao.org.
The Forest Resources Assessment (FRA) Working Paper Series is designed to reflect the activities and progress of the FRA Programme of FAO. Working Papers are not authoritative information sources ­ they do not reflect the official position of FAO and should not be used for official purposes. Please refer to the FAO forestry website (www.fao.org/fo) for access to official information. The FRA Working Paper Series provides an important forum for the rapid release of preliminary FRA 2000 findings needed for validation and to facilitate the final development of an official quality-controlled FRA 2000 information set. Should users find any errors in the documents or have comments for improving their quality they should contact either Robert Davis or Peter Holmgren at fra@fao.org.
Paper drafted by Patrick Van Laake & edited by Patrizia Pugliese.
Abbreviations.
BEF BV CATIE Cirad EDC ESRI FAO FORIS FRA GIS SNU UN-ECE VOB WD WCMC Biomass Expansion Factor Biomass of inventoried volume Centro Agronómico Tropical de Investigación y Enseñanza Centre de coopération internationale en recherche agronomique pour le développement Eros Data Centre Environmental Systems Research Institute Food and Agricultural Organization of the United Nations Forest Resources Information System Forest Resources Assessment Geographic Information System Sub National Unit(s) United Nations Economic Commission for Europe Volume Over Bark Wood Density World Conservation Monitoring Centre.
1 Introduction.
Forest maps were produced for the Forestry Department web-site. For all countries a locator map was produced and for the 116 (sub-)tropical countries currently available in the FORIS database of the FRA Programme an additional map was produced with forest cover. The maps were produced in a semi-automatic fashion using the FRA Programme GIS facility. The routines that were developed for the production of the maps allow for easy adaptation and can be used for the production of other similar maps as well. For the countries not included in FORIS an inventory was made of comparable official forest cover maps publicly available on the Internet. Such officially endorsed maps were not found, although there are reliable sources of maps of forest cover lacking official endorsement. This is the final report of the consultancy of the Geographic Information Expert For Support of the Forestry Department Information System on Forests, January ­ March 1999. The main purpose of the assignment was to produce maps of countries (locator maps) and their forest cover (forest cover maps) for inclusion in the new web site of the Forestry Department. The Terms of Reference for this consultancy are listed in Appendix.
All of the tasks listed in the Terms of Reference have been completed, with the exception of reporting for FRA2000. This was due to the fact that no clear indication was given about the requirements for map products in FRA2000 reports. However, the automated procedures developed for the production of the locator and forest cover maps can easily be adjusted to support a wider range of mapping requirements, both in content and design. The Forest Resources Information System (FORIS) of the Forest Resources Assessment Programme (FRA) served as the main source of data that was used to produce the maps. The automated procedures have been set up such that the work can be easily reproduced or adapted to new requirements. It can easily be integrated in the current data structures as they are being developed now in the framework of FRA (i.e. reporting for FRA2000). This report is a technical resume of the work done. It contains a detailed description of the processing steps and the key routines that were used in the automation of the production of the maps are listed in Appendix 2.
1.1 WORKING PROCEDURES.
For this assignment the consultant worked intensively with the Forestry Department web project manager, Gary Bull, and the web site programmer, Joerg Messer. There were regular meetings with the Project Director, Peter Holmgren, and the Senior Forestry Officer, Robert Davis, on the content of the maps. Most of the work has been performed on the GIS workstation of FRA, with the assistance of Massimiliano Lorenzini and George Mu'Ammar. The consultant started working on an inventory of the available data in December. In January the first batch of locator maps was produced, after an iterative process of design, in consultation with the Forestry Department web site project manager, the web page designer and the programmer. Due to time constraints the complete set of locator maps as they were first 3.
published on the web page were fairly simple and of a rather inferior graphical quality (JPG instead of GIF). In March a second complete set of locator maps was produced of much improved graphical quality (GIF) and applying a production process that is automatic for most countries and straightforward for the others. This second set of locator maps uses an on-the-fly projection adequate for the country in question. This has proven to be particularly beneficial for countries in the higher latitudes (e.g. Canada, the Russian Federation, the Falkland Islands). In February the consultant produced the forest cover maps for the (sub-)tropical countries for which FORIS contains the data. The maps were produced in a process comparable to that of the production of the locator maps, although the organization of the GIS component of FORIS has made automation cumbersome. Therefore, a semi-automatic procedure was developed which extracts the required data automatically from a set of especially prepared base layers and the forest cover from FORIS. From these country-specific layers the forest cover map was produced in ArcView, using automatic map building, with some manual editing to be done. The graphics have been prepared according to the specifications given by the graphics designer of the web site project. The FRA Project Director and the FRA Senior Forestry Officer decided not to include any forest cover data from sources not explicitly controlled or endorsed by FRA. Instead, links were included in the web page referring the user to (national) sites with relevant data. The consultant has verified those links.
The spatial data that was used for the maps was taken from FORIS of the FRA Programme. PONETD was used for boundaries and AW3_INWA for rivers and inland water bodies.
The PONET layer of the Digital Chart of the World (DCW) is the main source for country boundaries in FORIS. PONETD is a processed version of the original PONET from the DCW. PONETD was copied from /X3/FORIS/WORLD to /APP/FOWEB/CNTS. Minor topological editing was performed to remove errors from the coverage. The boundaries were updated to reflect the current political status of countries and territories. The DCW includes first level internal boundaries for the Soviet Union. These areas have been updated to reflect their status as independent nations. From ArcWorld (1:3,000,000), available on-line at ESRI's web site, were extracted the boundaries between Ethiopia/Eritrea, Czech Republic/Slovakia and between the states that emerged from the former Federal Socialist Republic of Yugoslavia. The boundary between China and Hong Kong was dropped, making the latter an integral part of the former. Attributes were updated to reflect the status of territories as recognized by FAO and the UN in general. This included making Taiwan an integral part of China and making overseas territories of, in particular, France and the United Kingdom separate territorial entities (e.g. Falkland Islands, Barbuda, St. Vincent and the Grenadines), among others. In general, territories were made to conform to the list used for the FAO report State of the World's Forest 1997, and FAOSTAT. There is no spatial representation of the Holy See (Vatican City) in the DCW; hence no map could be produced for it.
2.2 AW3_INWA.
AW3_INWA was copied from /APP/FORIS/MASTERS to /APP/FOWEB/RIVERS. The base scale of the data is 1:3,000,000.
City locations were taken from the ArcView 2.1 CD and have a base scale of 1:5,000,000. For some of the smaller territories that are present as independent entities a capital city was not present in this database. For these territories the main inhabited place was taken from the "Times Atlas of the World, Comprehensive Edition", 1978. For some of the smallest territories no inhabited place could be identified.
2.4 FOREST COVER.
Forest cover was available only for the (sub-)tropical countries included in previous publications of FRA. Of all the (sub-)tropical countries the island states in the Pacific Ocean are thus excluded, as well as some small island states in the Atlantic and Indian Oceans. Included in the list of countries are the countries in Temperate South America: Argentina, Chile and 5.
Uruguay. There are three separate data sets available with forest cover for different parts of the (sub-)tropics:.
Vegetation map of ICIV Vegetation map produced by WCMC Seasonal Land Cover Regions maps of EROS Data Center.
It should be noted that none of these data sources are specifically representing forest cover or types. Rather they are vegetation maps, where several classes correspond to forest vegetation.
2.4.1 Vegetation map of ICIV.
The data was reproduced from the vegetation map produced by the Institut de la Carte Internationale de la Végétation (ICIV), Toulouse, France, in 1986 (Tropical continental Asia), 1987 (Africa) and 1988 (South America). The map has been prepared through synthesis of data from different sources, including Landsat MSS satellite imagery, national maps, aerial photography and related documents. Currency, scale and detail differ extensively between different sources. The map provides a good general impression of the vegetation situation on a regional basis, with a relatively homogeneous classification system. It is of a low resolution, suited for use at a global, regional or sub-regional level. For the smaller countries, the map may not accurately depict forest cover. This data source was used for the countries in Africa, South and South-East Asia and South America. It corresponds to FORIS sub-regions 11-18, 31-32, 44-45.
2.4.2 Vegetation map of WCMC.
The data was produced by the World Conservation and Monitoring Centre, Oxford, UK, at an original scale of 1:5,000,000, and is based on the FAO document "Classification and Mapping Vegetation Types in Tropical Asia", 1989. The map provides a good general impression of the vegetation situation on a regional basis, with a homogeneous classification system. It is of a low resolution, most suited for use at a regional or sub-regional level. For the smaller countries in particular therefore, the map may not accurately depict forest cover. This data source was used for the countries in Insular South-East Asia, including Malaysia and Singapore. It corresponds to FORIS sub-region 46, with the inclusion of Papua New Guinea.
2.4.3 Seasonal Land Cover Regions maps by EROS Data Center.
The data was produced by the EROS Data Center of the United States Geological Service, Sioux Falls, ND, USA, in the form of the Seasonal Land Cover Regions raster maps. The data was produced through the interpretation of AVHRR satellite imagery taken between April 1992 and March 1993. The map provides a good general impression of the forest cover on a sub-regional basis, with a homogeneous classification system. The resolution is most suited for use at a regional or sub6.
regional level. For the smaller countries in particular therefore, the map may not accurately depict forest cover. This data source was used for Mexico and the countries in Central America and the Caribbean. It corresponds to FORIS sub-regions 22-23. For all the data sources the original classification was resampled into eight broad classes, in order to provide consistency worldwide. The standard WOVEGT.LUT look-up table in FORIS was used for the reclassification.
2.5 DATA CURRENCY AND VALIDITY.
Apart from the operations listed above the spatial data was not edited or validated. For the territorial limits, the most volatile of the "non-debatable" features, this implies that the representation in the DCW is assumed to be correct. Since most of the maps are depicted at scales much smaller than the 1:1,000,000 base scale of DCW this is a safe assumption for natural boundaries (sea front) and most artificial boundaries (land borders) between countries. A problem arises however with small countries (e.g. small island states, Andorra, Liechtenstein, San Marino) and countries formed after 1 November 1991, when country status code updates to the DCW was frozen. Countries established after this date are not present in the DCW, although these have been added as elaborated above. The base material on which the DCW is based, the Operational Navigational Charts (ONC) of the United States Defense Mapping Agency, produced by Australia, Canada, the United Kingdom and the United States of America, was originally prepared in the 1960s and 1970s. Revisions of these base maps have been made mostly in the 1980s, although some revisions are as old as 1973. Artificial boundaries have been updated for the DCW till 1 November 1991. The maximum horizontal positional error is between 500 and 2000 meters (depending on ONC sheet). Islands with a circumference of less than 2940 meters (maximum area of 69 hectares) are not included in the DCW. Disputed territories as recognized by DCW are only present between China and India and India and Pakistan. On the maps most of these are depicted as separate territorial entities, although they are hardly discernable on the maps of either China or India due to the resolution. Jammu and Kashmir is depicted as an integral part of India. Other disputed territories (e.g. Gaza Strip, West Bank, Western Sahara) are likewise mapped, with no specific reference to claimants or occupier. Disputes that have been settled recently (e.g. between Ecuador and Peru, Chile and Argentina) have not been accounted for in the maps, although these are usually too small anyway to be noticed in the maps. Small countries, mainly small island states, but including Andorra, Liechtenstein, San Marino, etc., may not be depicted well due to the large scale at which they are mapped. This is particularly true for hydrological and forest cover data. Hydrology is prepared at a base scale of 1:3,000,000. Therefore, it does not combine well with the country boundaries, which are prepared at a base scale of 1:1,000,000 (e.g. border between Liechtenstein and Switzerland on the locator map for Liechtenstein). The forest cover data is prepared for use at a regional to sub-continental level.
Creation of the maps was automated to the extent feasible. This involved extraction of the different layers for the locator and forest cover maps from the global data sources available. This process could not be entirely automated due to the geographical peculiarities of several countries; e.g. countries crossing the meridian of 180º longitude (Russia, USA, Fiji, Kiribati and New Zealand), countries with outlying minor territories (Costa Rica/Isla del Coco, Ecuador/Galapagos Islands, etc.), countries with many small islands (Canada, Norway, Indonesia, etc.), the combination of Belgium and Luxembourg into one map, etc. The key ArcInfo macros that were used to extract the data are listed in Appendix 2.
3.1 Extraction of map data by country.
Originally the data for the maps (both locator and forest cover) was extracted from the database to check for completeness, validity and errors. (This set of data was used to build the first set of locator maps, to be used for the first evaluation version of the web site.) Performance was also a consideration in this approach, since the global database is so large (particularly the hydrology) that interactive querying would not be feasible. For the forest cover maps this approach was the only one possible, because of the architecture of the database, the diversity in the data format (including reclassification on an attribute item of the forest cover coverage) and the fact that not all data was on-line because of disk capacity. The different coverages for each country were stored in a directory structure in which each country has its own directory, of which the name is composed of the letter w followed by a three-digit FAOSTAT code (e.g. w048 for Costa Rica).
3.2 Building the maps.
Initially the locator maps were constructed using a set of ArcView scripts, rendering graphics of differing sizes, based on the dimension of the country. The detail in the hydrology (rivers and lakes) was interactively established, on the basis of the ranking that is part of the attributes of the hydrology coverage. The forest cover maps were made in a process comparable to the production of the locator maps. The three sources for the forest cover coverage have different classification schemes. For purposes of global processing and mapping a globally consistent reclassification in eight classes was developed, which has been applied in the production of the forest cover maps. Due to the rather limited choice of output formats offered by both ArcInfo and ArcView, the choice of colours made by the web page designers, and the time constraints implied by the project's deadlines, it was necessary to apply a semiautomated approach in the generation of the output graphic: a 256-colour GIF (locator map) or JPG (forest cover map). This involved copying a screen dump from ArcView into MS Paint to produce a bitmap, which was then converted to JPG. The final AML routine that was used to produce the second series of improved locator maps uses a less cumbersome approach, using freely available Unix routines for image format 8.
conversion, rendering the desired GIF format automatically. This AML is included in Appendix.
Some of the countries cannot be generated automatically due to geographical peculiarities. The mainland of Portugal, for instance, would be displayed very small, due to the inclusion of the islands of Madeira and the Açores. In this case the extent of the locator and forest cover maps is manually set, resulting in a map excluding the small islands. This applies to Chile, Costa Rica, Portugal and Spain. In the case of Ecuador, the Galapagos Islands are displayed on the locator map with little effect on the size of the mainland. On the forest cover map the Galapagos Islands are shown as an inset on the main map. The forest cover map of the Bahamas, many small islands over a relatively large area, is displayed as two slightly overlapping maps. On the previous and this page are displayed the locator map and forest cover map for Nigeria, respectively. Note that these are not the actual sizes as they are used on the web page. Also, the typical resolution of a computer screen is less than typical printed resolution, giving a somewhat reduced quality in this report.
3.3 Future updating of maps.
Updating the current maps can be achieved fairly easily using the AMLs developed for producing the first series of locator and forest cover maps. There are essentially three types of update:.
Topological updates.
Attribute updates Design and content changes.
3.3.1 Topological updates.
Topological updates will not occur frequently. It implies that a national boundary is changed, for instance, but it also is required when new forest cover data is used for the forest cover maps. A capital city might be moved. Topological changes in hydrology are unlikely. If a (artificial) national boundary changes, then both the locator and forest cover maps have to be updated. Apart from that, also neighbouring country maps will be invalidated, because these also display borders between countries. A neighbouring country in this context does not imply topological contiguity. Brazil, for instance, includes most countries of South America in its two maps, including parts of Ecuador and Chile. It is quite cumbersome to dynamically identify which countries include (parts of) the country for which the topology is updated, particularly since the locator maps are projected. This will therefore necessarily be an operation requiring operator action. It is, however, not always necessary to update maps of big countries if small countries change borders. The locator map of the Russian Federation, for instance, spans such a large area that details in smaller countries are completely lost due to the resolution of the locator map. When forest cover data changes, this usually involves updating all the forest cover maps for countries falling in the affected sub-regions. This is a result of the design of the database. Since the forest cover is displayed only for the country in question, there are no implications for neighbouring countries that fall outside of the affected sub-regions. When a capital city is moved (e.g. in the case of the Federal Republic of Germany from Bonn to Berlin) only the maps of the country in question need to be updated.
3.3.2 Attribute changes.
Attribute changes will not occur frequently. A capital city name might be changed, or the classification scheme for forest cover types. If at a later stage more elements are added to the locator and forest cover maps the occurrence of attribute changes might well increase, particularly if annotation is added to the maps. Depending on design decisions such additions may provoke the invalidation of neighbouring maps. Currently no such dependencies exist.
3.3.3 Design and content changes.
If any design or content changes are made to the locator or forest cover maps (e.g. colour scheme, features, annotation, classification scheme for forest cover) such changes are likely to be pervasive, affecting all locator and forest cover maps. In this case the routines used to produce the maps should be updated to incorporate the desired changes and a whole new series of maps should be generated using the adjusted routines. For the graphics produced by the routines to actually appear on the web site, the graphics need to be inserted in the appropriate database and referenced by the scripts that create the pages. These operations are outside of the scope of this assignment and should be discussed with the 10.
web programmer.
4 Maps on the web.
The FORIS database currently contains forest cover only for countries in the (sub-)tropical regions of the world, including Temperate South America (Argentina, Chile, Paraguay). By a decision of the FRA Project Director and the FRA Senior Forestry Officer it was established that only data actually controlled or endorsed by FRA would be made available on the web site, and that users would be referred to national web sites for any maps posted there. A list of national forestry web sites has been compiled for the web site and the consultant browsed these for maps comparable in content to the forest cover maps. The list of web sites investigated is included in Appendix.
The review of the list of national forestry web sites produced no comparable maps and indeed very few maps at all. As a matter of fact, some national sites are not publicly accessible, or offer only very summary information on the national forestry department. There is also a number of sites that does not offer an English version of the information. The forestry web site of Canada is a positive exception (although no comparable map data was found). Here one can find statistics on forests in Canada and a document with the state of Canada's forests can be downloaded. Also, there are detailed maps with forest inventory data for the province of Ontario. There are links to forest research institutes and other sites of interest. The only publicly available web site that offer good quality maps for most countries worldwide is that of WCMC (http://www.wcmc.org.uk/forest/data/), produced jointly with CIFOR, for which also FAO data has been used. The data sources used for the presented maps are not necessarily endorsed by national governments though. On this site there are also maps are available of protected areas and parks, and assorted information on forest statistics and endangered species of flora and fauna.
Appendix 1: Terms of Reference.
"Forestry Department Website Project".
Terms of Reference Geographic Information Expert For Support of the Forestry Department Information System on Forests Under the overall guidance of the FRA Programme Coordinator and direct supervision of the FRA Project Director and the FRA Geographic Information Systems Expert, the Geographic Information Expert will be responsible for (a) producing the country and other relevant map images for the Forestry Department website to be presented at COFO 1999, (b) investigate options for continued development of dynamic maps for the Forestry Department website, (c) provide linkage between the above website development effort and the FRA2000 work. Tasks: · Jointly with the Graphic Designer, define the map layout (output features: thematic elements, graphic elements, colours, image resolution, image size, etc.); · Review map data available at FAO (e.g. in FORESSIS, at FAO GIS-CENTER, AGL, ); · With the assistance of FRA staff, acquire and review map data available from other sources (Internet, CD-ROM, ...); · Produce, using GIS and image processing software, the country map images (one locator map and one forest cover map for each of approximately 180 countries) to be used at the website, and integrate these in the FORIS database; · Investigate and suggest how future map functionality can be implemented at the Forestry Department website, with special reference to FRA2000 reporting; · Liaise with and work together with the other project team members on a daily basis; · Participate in the website development Working Group meetings.
Duration: 3 months (January ­ March 1999) Language: English Duty Station: Rome.
Appendix 2: ArcInfo routines.
The following relations were used to link the various coding schemes used, in particular between the POPYCOUN attribute code of PONETD and the country codes in use by FAO (FAOSTAT code). The relations are saved in the file FOWEB.REL. Relate name Table Database Item Column Relate type Relate access FAOESRI /app/foweb/cnvcod e POPYCOUN POPYCOUN WAIC2POP /app/foweb/ctycodes INFO CTYCODEN FAOSTAT LINEAR RO POP2WAIC /app/foweb/popy2fao FAOSTAT CTYCODEN.
AMLS COUNTRIES.AML.
This AML will reselect all the polygons that constitute the country from CNTS.
10. 11. 12. 13. 14. 15. 16. 17. 18. 19. 20. 21. 22. 23. 24. 25. 26. 27. 28. 29. 30. 31. 32. 33. &echo &off w /app/foweb relate restore webrel cursor cnts declare ctycodes info rw cursor cnts open &label loopstart &sv cntname = %:cnts.covname% &sv popy = %:cnts.pop2waic//popycoun% &type %cntname% %popy% w /app/foweb/w%cntname% &if [exists country -cover] &then &goto loopend reselect /app/foweb/cnts country poly asel popycoun = [quote %popy%] ~ n n build country &describe country &sv :cnts.geoxmin &sv :cnts.geoymin &sv :cnts.geoxmax &sv :cnts.geoymax = = = = %dsc$xmin% %dsc$ymin% %dsc$xmax% %dsc$ymax%.
&label loopend cursor cnts next &if %:cnts.aml$next% &then &goto loopstart cursor cnts remove &echo &off.
CNTHYDRO.AML.
This AML will clip hydrology for the region around the country. The RIVERS layer is copied from AW3_INWA in the FORIS/MASTERS workspace.
&echo &off.
w /app/foweb.
relate restore webrel.
cursor cnthydro declare ctycodes info rw.
cursor cnthydro open.
7. &label loopstart.
9. &type %:cnthydro.covname% 10. w /app/foweb/w%:cnthydro.covname% 11. &if [exists hydro -cover] &then &goto loopend 12. 13. /* clip hydrology in region 14. clip /app/foweb/rivers clip hydro net 15. 16. &label loopend 17. cursor cnthydro next 18. &if %:cnthydro.aml$next% &then &goto loopstart 19. 20. cursor cnthydro remove 21. &echo &off.
This is the AML that was used to automatically create the locator maps. Due to its automation and speed of execution, it could be used in an on-line application. The basic skeleton can be adjusted to include other spatial features as well. There are a number of fixed parameters that could be made variable to accommodate for a wider use. Specifically these relate to the size of the graphic to be produced (currently set to 252 x 152 pixels [44/134-143], with a 1 pixel wide black border [47]), the colours used (in the foweb shadeset and lineset [48/49]), the cities displayed (currently only the capital city [180210]) and any annotation (none currently, other than the capital city name). Furthermore there are a number of design issues that relate to the mapping itself: the minimum area for mapping (currently set to 1/1000 of the area of the country [59]) and the level of lakes and rivers displayed (dependent on the size of the country [159-165/172-178]). These might have to be adjusted for other mapping purposes. The map is projected based on the spatial extent of the country features to be mapped (i.e. the country, minus the smallest islands). This yields an acceptable and flexible projection, but it may also be substituted for a projection that is commonly used for the country. This would, however, require a substantial reworking of the AML. When run on the GIS workstation of FRA the AML is sufficiently fast to produce graphics onthe-spot (about 20 seconds for small countries, up to 1'30" for big countries), opening up possibilities for on-line applications. Again, such a use would require substantial adjustments to the AML, particularly with respect to stability and adaptability to user needs.
/* LOCMAP.AML.
/* Building the locator maps for the FO web site.
/* Arguments : faostat numeric faostat code.
9. 10. 11. 12. 13. 14. 15. 16. 17. 18. 19. 20. 21. 22. 23. 24. 25. 26. 27. 28. 29. 30. 31. 32. 33. 34. 35. 36. 37. 38. 39. 40. 41. 42. 43. 44. 45. 46. 47. 48. 49. 50. 51. 52. 53. 54. 55. 56. 57. 58. 59. 60. 61. 62. 63. 64. 65. 66. 67. 68. 69. 70. 71. 72. 73.
/* /* /* Dependencies: /* /* /* /* Liabilities : /* /* History : /* /*.
directory where to put the BMP.
relate pc2fs cnts, capitals, rivers, lakes and seagrid coverages in /app/foweb foweb symbolset in /app/foweb cursor locmap 15/03/99 portions 18/03/99 22/03/99 Original code by Patrick van Laake, by Max Lorenzini Map projection added by PvL Updated for alpha1 by PvL.
&args faostat, gifdir /*.
Verifying arguments and getting additional data &if [null %gifdir%] &then &sv gifdir = /app/foweb &if %faostat% = 15 &then &do &sv covname = 015 &sv popycoun = BE &sv proj = L &end &else &do cursor locmap declare ctycodes info ro faostat = %faostat% cursor locmap open &if not %:locmap.AML$NEXT% &then &do cursor locmap remove &return &error FAOSTAT code %faostat% is not a valid code! &end &sv covname = %:locmap.covname% &sv popycoun = %:locmap.pc2fs//popycoun% &sv proj = %:locmap.proj% cursor locmap remove &end /*.
Setting up the page ap disp 9999 size canvas 252 152 pageunits 72 pagesize 252 152 maplimits 1 1 251 151 shadeset foweb lineset foweb markerset plotter reselect cnts poly popycoun = [quote %popycoun%] &if %faostat% = 15 &then aselect cnts poly popycoun = 'LU' statistics cnts poly popycoun sum area end &sv area = [show statistic 1 1] &sv minarea = %area% / 1000 reselect cnts poly area > %minarea% writeselect cnts.sel cnts poly mapex poly cnts &sv mapsize = [show &sv xmin = [extract &sv xmax = [extract &sv ymin = [extract &sv ymax = [extract &sv xmid = ( %xmax% &sv ymid = ( %ymax% mapextent] 1 %mapsize%] 3 %mapsize%] 2 %mapsize%] 4 %mapsize%] + %xmin% ) / 2 + %ymin% ) / 2.
Project the map &sv cm = ( %xmax% + %xmin% ) / 2.
74. &sv cmd = [truncate %cm%] 75. &sv rest = ( %cm% - %cmd% ) * 60 76. &sv absrest = [abs %rest%] 77. &sv cmm = [truncate %absrest%] 78. &sv cms = ( %absrest% - %cmm% ) * 60 79. &sv cl = ( %ymax% + %ymin% ) / 2 80. &sv cld = [truncate %cl%] 81. &sv rest = ( %cl% - %cld% ) * 60 82. &sv absrest = [abs %rest%] 83. &sv clm = [truncate %absrest%] 84. &sv cls = ( %absrest% - %clm% ) * 60 85. 86. mapprojection automatic * 87. &if %proj% = M &then &do 88. projection mercator 89. units 0.001 90. parameters 91. %cmd% %cmm% %cms% 92. %cld% %clm% %cls% 93. 0 94. 0 95. &end 96. &else &do 97. &sv y6 = ( %ymax% - %ymin% ) / 6 98. &sv p1 = %ymin% + %y6% 99. &sv p1d = [truncate %p1%] 100. &sv rest = ( %p1% - %p1d% ) * 60 101. &sv absrest = [abs %rest%] 102. &sv p1m = [truncate %absrest%] 103. &sv p1s = ( %absrest% - %p1m% ) * 60 104. &sv p2 = %ymax% - %y6% 105. &sv p2d = [truncate %p2%] 106. &sv rest = ( %p2% - %p2d% ) * 60 107. &sv absrest = [abs %rest%] 108. &sv p2m = [truncate %absrest%] 109. &sv p2s = ( %absrest% - %p2m% ) * 60 110. 111. projection lambert 112. units 0.001 113. parameters 114. %p1d% %p1m% %p1s% 115. %p2d% %p2m% %p2s% 116. %cmd% %cmm% %cms% 117. %cld% %clm% %cls% 118. 0 119. 0 120. &end 121. 122. /*.
Setting the map extent 123. 124. mapex poly cnts 125. &sv mapsize = [show mapextent] 126. &sv xmin = [extract 1 %mapsize%] 127. &sv xmax = [extract 3 %mapsize%] 128. &sv ymin = [extract 2 %mapsize%] 129. &sv ymax = [extract 4 %mapsize%] 130. &sv dx = %xmax% - %xmin% 131. &sv dy = %ymax% - %ymin% 132. &sv dydx = %dy% / %dx% 133. 134. &if %dydx% > 0.6 &then &do 135. &sv div = ( ( %dy% / 0.6 ) - %dx% ) / 2 136. &sv xmin = %xmin% - %div% 137. &sv xmax = %xmax% + %div% 138. &end 139. &else &do 140. &sv div = ( ( %dx% * 0.6 ) - %dy% ) / 2 141. &sv ymin = %ymin% - %div% 142. &sv ymax = %ymax% + %div% 143. &end.
144. 145. units projectedmap 146. mapex %xmin% %ymin% %xmax% %ymax% 147. 148. /*.
Drawing map elements 149. 150. polygonshades seagrid 1 151. clearselect cnts polys 152. reselect cnts polys mapextent 153. reselect cnts poly area > %minarea% 154. reselect cnts poly popycoun <> 'OO' 155. polygonshades cnts 4 156. writeselect reg.sel cnts poly 157. readselect cnts.sel clear 158. polygonshades cnts 3 159. &if %area% > 10 &then 160. reselect lakes poly area > .5 161. &else &if %area% > 4 &then 162. reselect lakes poly area > .05 163. &else &if %area% > 1.6 &then 164. reselect lakes poly area > .005 165. polygonshades lakes 2 166. readselect reg.sel or 167. linesymbol 1 168. linesize 0 169. polygonlines cnts 1000 170. linesymbol 2 171. linesize 0 172. &if %area% > 10 &then 173. reselect rivers arc river_rank < 2 174. &else &if %area% > 4 &then 175. reselect rivers arc river_rank < 3 176. &else &if %area% > 1.6 &then 177. reselect rivers arc river_rank < 4 178. arcs rivers 179. 180. /*.
Drawing and labeling the capital city 181. reselect capitals point popycoun = [quote %popycoun%] 182. &sv caps = [show select capitals points] 183. &if [extract 1 %caps%] = 1 &then &do 184. markersymbol 46 185. markersize 12 186. textset font 187. textstyle typeset 188. textfont 94023 189. textsize 16 16 pt 190. textcolor black 191. textquality kern 192. &if %faostat% = 15 &then &do 193. pointmarkers capitals 1000 194. pointtext capitals name # LL 195. nselect capitals point 196. reselect capitals point popycoun = 'LU' 197. pointmarkers capitals 1000 198. pointtext capitals name # LR 199. &end 200. &else &do 201. &sv loc = [show select capitals point 1 xy] 202. &if [extract 2 %loc%] > %ymid% &then &sv yloc = U 203. &else &sv yloc = L 204. &if [extract 1 %loc%] > %xmid% &then &sv xloc = R 205. &else &sv xloc = L 206. 207. pointmarkers capitals 1000 208. pointtext capitals name # %yloc%%xloc% 209. &end 210. &end 211. 212. /*.
Printing the map 213. &sv raster = c%covname%lmap.ras.
214. &sv pbm = c%covname%lmap.pbm 215. screensave %raster% 216. &sys %.aml%/rasttopnm %raster% > %pbm% 217. &sys %.aml%/ppmtogif %pbm% > %gifdir%/c%covname%lmap.gif 218. &sys rm %raster% 219. &sys rm c%covname%lmap.rsw 220. &sys rm %pbm% 221. 222. /*.
Cleaning out, backing up 223. quit 224. &return.
Appendix 3: National forestry web sites consulted for maps.
Argentina Australia Austria Belgium Belize Botswana Brazil Brunei Darussalam Canada Chile China Croatia Cyprus Czech Republic Denmark Ecuador Estonia Ethiopia Fiji Finland France Gabon Gambia Germany Ghana Greece Guyana Honduras Hungary Iceland India Indonesia Ireland Israel Italy Jamaica Japan Kazakhstan Kenya Kyrgyzstan Lebanon Liberia Lithuania Luxembourg Malaysia Mexico Mongolia Morocco Netherlands New Zealand Nicaragua Niger Nigeria Norway Papua New Guinea Peru Phillipines POland Puerto Rico Republic of Korea Rumania Slovakia Slovenia South Africa Spain Sri Lanka St. Lucia Sweden Switzerland Thailand Tunisia www.sernah.gov.ar/organi/drfn/ www.affa.gov.au/affa/forestry.html www.bmlf.gv.at/ebmlf/eforst/eforst.htm mrw.wallonie.be/dgrne/home.htm www.belize.gov.bz/gov.html www.gov.bw/government/ministry_of_agriculture.html www.brasil.gov.br/inicio.htm www.forestry.gov.bn/ www.nrcan.gc.ca/cfs/ www.minagri.gob.cl/minagri/conaf/conaf.html www.forestry.ac.cn/first.htm www.mps.hr/ www.pio.gov.cy/cygov/ministry/magric/index.htm www.env.cz/www/DOMINO.NSF/ www.um.dk/english/danmark/om_danmark/policies.heritage.html www.ecuador.org/law&government.htm www.envir.ee/metsaamet/english/index.htm www.ethemb.se/ www.fiji.gov.fj/m_agriclt/index.html www.mmm.fi//english/default.htm www.agriculture.gouv.fr/derf/loiforet/sommaire.stm www.presidence-gabon.com/a/data/eco/resources.html www.gambia.com/ www.bml.de www.ghana.gov.gh/ministries/land/land.html www.minagr.gr/english/frames.html www.sdnp.org.gy/minagri/ www.hondurasinfo.hn/govoff.html www.gridbp.meh.hu/GRID3VER/PRESSURE/ELOVILAG/1ELOHAT.HTM www.isholf.is/skograektin/enskugr.html www.nic.in/envfor/welcome.html www2.bonet.co.id/dephut/men2.htm www.irlgov.ie/marine/ www.israel.org/facts/sci/envirres.html www.politicheagricole.it/MiPA/LinksUtili/Regione/Welcome.htm www.nrca.org/neap/FORESTRY.HTM www.maff.go.jp/eindex.html www.asdc.kz/kazstat/new/otr11e.html www.kenyaweb.com/kenyagov/natural/index.html nsc.bishkek.su/Eng/Database/Index.html www.kuniv.edu.kw/libraries.html www.gis.net/~toadoll/lc-govn.htm www.online.lt/hgov.htm www.mev.etat.lu/adef/aeef_1.html www.forestry.gov.my/ www.semarnap.gob.mx/naturaleza/estadistica-am/informe/medio-ambiente /forestales/Forestal.htm www.pmis.gov.mn/men/boyaeng/engboya.htm www.mincom.gov.ma/french/minister/gouv98/31.htm www.minlnv.nl/international/ www.maf.govt.nz/Forestry/index.htm www.tmx.com.ni/~fosemag/index.html www.presidence.ne/mhe.html www.nigeria-government.com/ hotell.nextel.no/landbruksdepartementet/eorganisation/html/eskog.htm www.niugini.com/govern3.htm www.minag.gob.pe/MINAG/frame.htm www.psdn.org.ph/denr/start.html www.mos.gov.pl/mos/komorki/dlopik_eng.htm fortaleza.govpr.org/ www.maf.go.kr/eng/inf31.htm domino.kappa.ro/guvern/ministere.nsf/MinEng/MAPPM www.fris.sk/ www.sigov.si/cvi-mi-a.html www.polity.org.za/lists/govdepts.html www.sederu.es/index.html www.lk/Government.html www.stlucia.gov.lc/agriculture.htm www.svo.se/eng/default.htm www.admin.ch/bfs/stat_ch/ber07/e-forst/e-forst9.htm www.forest.go.th/p1_e.htm www.tunisiaonline.com/html/environment.html.
Turkey United Kingdom United States of America.
www.ogm.gov.tr/homeng1.htm www.forestry.gov.uk/ www.fs.fed.us/.
FRA Working Papers.
2. 1999.
The status of the forest resources assessment in the South-Asian sub-region and the country capacity building needs. Proceedings of the GCP/RAS/162/JPN regional workshop held in Dehradun 8-12 June 1998. (186 pp. - E) Volume/Biomass Special Study: georeferenced forest volume data for Latin America (93 pp. E) Volume/Biomass Special Study: georeferenced forest volume data for Asia and Tropical Oceania (102 pp. E) Country Maps for the Forestry Department website (21 pp. E) FRA 2000 Terms and Definitions (18 pp. - E/F/S/P) FRA 2000 Guidelines for assessments in tropical and sub-tropical countries (43 pp. - E/F/S/P).
Please send a message to fra@fao.org for electronic copies.
